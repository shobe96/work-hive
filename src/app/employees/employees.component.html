<div class="container">
  <header>
    <h1>Employee Directory</h1>
    <div class="header-actions">
      <button title="Add employee" (click)="addEmployee()" class="add-btn">
        ➕
      </button>
      <button (click)="logout()">Logout</button>
    </div>
  </header>

  <!-- 🔍 Search input -->
  <div class="search-bar">
    <input
      type="text"
      placeholder="Search by designation or code..."
      [(ngModel)]="searchQuery"
      (input)="filterEmployees()"
    />
  </div>

  <section *ngIf="loading">Loading...</section>
  <section *ngIf="error">{{ error }}</section>

  <section class="employee-list" *ngIf="!loading && !error">
    <div class="employee-card" *ngFor="let employee of filteredEmployees">
      <div class="card-actions">
        <button (click)="editEmployee(employee)">✏️</button>
        <button (click)="deleteEmployee(employee.id)">🗑️</button>
      </div>
      <h3>{{ employee.employee_code }}</h3>
      <p>{{ employee.date_of_joining }}</p>
      <p>{{ employee.designation }}</p>
      <p>{{ employee.employment_type }}</p>
      <p>{{ employee.salary }}</p>
    </div>
  </section>
</div>
