#!/bin/sh

echo "ğŸ” Running Prettier check on staged files..."
npx lint-staged

echo "ğŸ§¹ Running ESLint on affected projects..."
npx nx affected --target=lint --uncommitted --parallel --fix --strict

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Commit blocked due to lint issues."
  echo "ğŸ’¡ To fix:"
  echo "   ğŸ‘‰ Run: npm run lint:affected"
  echo "   ğŸ‘‰ Or open the file and fix the warnings/errors manually"
  exit 1
fi